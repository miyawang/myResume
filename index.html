<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MiyaWang的个人简历</title>

    <!-- <link rel="stylesheet" href="css/loading.css"> -->
    <link rel="stylesheet" href="css/iconfont.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div id="welcome" class="welcome active">
        <div class="loading"></div>
    </div>

    <!-- 头部，左边logo左浮动，右边导航右浮动 -->
    <header class="header clearfix">
        <div id="topNavBar" class="top-nav">
            <div class="logo fll">
                <span class="rs">RS</span>
                <span class="card">card</span>
            </div>
            <nav class="flr">
                <!--sticky  黏住了-->
                <ul class="clearfix">
                    <li>
                        <a href="#siteAbout">ABOUT</a>
                    </li>
                    <li>
                        <a href="#siteSkill">SKILL</a>
                    </li>
                    <li class="menu-trigger">
                        <a href="#siteWorks">WORKS</a>
                        <ul class="submenu">
                            <li>作品1</li>
                            <li>作品2</li>
                            <li>作品3</li>
                        </ul>
                    </li>
                    <li>
                        <a href="#sitePricing">PRICING</a>
                    </li>
                    <li class="menu-trigger">
                        <a href="#siteClients">CLIENTS</a>
                        <ul class="submenu">
                            <li>1</li>
                            <li>2</li>
                            <li>3</li>
                        </ul>
                    </li>
                    <li>
                        <a href="#siteCalendar">CALENDAR</a>
                    </li>
                    <li>
                        <a href="#siteContact">CONTACT</a>
                    </li>
                    <li>
                        <a href="#siteOther">OTHER</a>
                    </li>

                </ul>
            </nav>
        </div>
    </header>
    <!-- banner区域，背景图外面有个遮罩 -->
    <div class="banner">
        <div class="mask">
        </div>
    </div>
    <!-- 主要内容区域 -->
    <main class="main container">
        <div data-x class="about clearfix" id="siteAbout">
            <img src="images/avatar.jpg" alt="头像" class="avatar fll">
            <div class="about-me fll">
                <span class="say">
                    I'M
                    <span class="triangle"></span>
                </span>
                <!-- <div class="triangle"></div> -->
                <h1>MiyaWang</h1>
                <p>前端开发工程师</p>
                <hr>
                <dl class="fll">
                    <dt>工作经验</dt>
                    <dd>2年</dd>
                    <dt>地址</dt>
                    <dd>浙江省湖州市</dd>
                    <dt>邮箱</dt>
                    <dd>miyawang1019@gmail.com</dd>
                    <dt>电话</dt>
                    <dd>17300000000</dd>
                    <dt>可到岗时间</dt>
                    <dd>一周左右</dd>
                </dl>
            </div>
        </div>
        <footer class="contact">
            <a href="#">
                <i class="iconfont icon-github"></i>
            </a>
            <a href="#">
                <i class="iconfont icon-zhihu"></i>
            </a>
            <a href="#">
                <i class="iconfont icon-linkedin"></i>
            </a>
            <a href="#">
                <i class="iconfont icon-ai-weixin"></i>
            </a>
            <a href="#">
                <i class="iconfont icon-ai-qq"></i>
            </a>
        </footer>
    </main>
    <p class="dld-wrapper">
        <a href="resume.pdf" class="dld" target="_blank" download="download">下载PDF简历</a>
    </p>
    <p class="introduction">MiyaWang，前端开发工程师。
        <br>技能：前端开发，HTML，CSS，JavaScript，Photoshop
    </p>
    <section data-x class="skill" id="siteSkill">
        <h2>技能</h2>
        <ol class="container clearfix">
            <li>
                <h3>HTML5 &amp; CSS 3</h3>
                <div class="progress-bar">
                    <div class="progress" style="width:85%"></div>
                </div>
            </li>
            <li>
                <h3>JavaScript</h3>
                <div class="progress-bar">
                    <div class="progress" style="width:80%"></div>
                </div>
            </li>
            <li>
                <h3>jQuery</h3>
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
            </li>
            <li>
                <h3>Vue</h3>
                <div class="progress-bar">
                    <div class="progress" style="width:40%"></div>
                </div>
            </li>
            <li>
                <h3>HTTP</h3>
                <div class="progress-bar">
                    <div class="progress" style="width:30%"></div>
                </div>
            </li>
            <li>
                <h3>Photoshop</h3>
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
            </li>

        </ol>
    </section>
    <section data-x class="portfolio" id="siteWorks">
        <h2>Portfolio</h2>
        <nav>
            <!-- <ol class="container clearfix"> -->
            <ol class="clearfix">
                <li id="por1">所有</li>
                <li id="por2">框架</li>
                <li id="por3">原生JS &amp; CSS</li>
            </ol>
            <div id="porSlider" class="slider state-1">
                <div class="slider-bar">

                </div>
            </div>
            <script>
                por1.onclick = function () {
                    porSlider.className = "slider state-1"
                }
                por2.onclick = function () {
                    porSlider.className = "slider state-2"
                }
                por3.onclick = function () {
                    porSlider.className = "slider state-3"
                }
            </script>
        </nav>
        <div class="por-all">
            <div>
                <img src="images/1.jpg" alt="作品1" class="por-1">
            </div>
            <div>
                <img src="images/2.jpg" alt="作品2" class="por-2">
            </div>
            <div>
                <img src="images/3.jpg" alt="作品3" class="por-3">
            </div>
        </div>

    </section>
    <script>
        // setTimeout(function () {
        //     welcome.classList.remove('active')
        // }, 3000)
        window.onscroll = function (xxx) {
            // console.log(window.scrollY); //用户滚动过的高度  js只做一件事：改变class
            if (window.scrollY > 0) {
                topNavBar.classList.add('sticky');
            } else {
                topNavBar.classList.remove('sticky');
            }
        }
        let liTags = document.getElementsByClassName('menu-trigger');
        console.log(liTags);
        for (let i = 0; i < liTags.length; i++) {
            liTags[i].onmouseenter = function (x) {
                let li = x.currentTarget;
                let brother = li.getElementsByTagName('ul')[0];
                brother.classList.add('active');
                // console.log(brother);
            }
            liTags[i].onmouseleave = function (x) {
                let li = x.currentTarget;
                let brother = li.getElementsByTagName('ul')[0];
                // console.log('mouseleave');
                brother.classList.remove('active');
                // console.log(brother);
            }
        }
        console.log('window.scrollY');
        console.log(window.scrollY);
        let specialTags = document.querySelectorAll('[data-x]');
        let minIndex = 0;
        for(let i = 0; i <specialTags.length; i++){
            // console.log(specialTags[i].offsetTop);
            if(Math.abs(specialTags[i].offsetTop - window.scrollY) < Math.abs(specialTags[minIndex].offsetTop - window.scrollY)){
                minIndex = i;
            }
            
        }
        console.log(minIndex);
       
        

        

        let aTags = document.querySelectorAll('nav > ul > li > a');
        // console.log(aTags);
        for (let i = 0; i < aTags.length; i++) {
            aTags[i].onclick = function (x) {
                x.preventDefault();  //阻止默认动作
                let a = x.currentTarget;
                let href = a.getAttribute('href'); //不做任何处理  如果直接是a 则是被浏览器除了过的 带http的
                // console.log(a.getAttribute('href'));
                let element = document.querySelector(href);
                let rect = element.getBoundingClientRect();
                // console.log(rect.top);
                let top = element.offsetTop;
                let n = 25; //一共动多少次
                let duration = 500 / n;  //多长时间移动一次
                let currentTop = window.scrollY
                let targetTop = top - 40;
                let distance = (targetTop - currentTop) / n
                let i = 0;
               let id = setInterval(() => {
                    if(i === n){ 
                      window.clearInterval(id)
                      return
                    }
                    i = i + 1
                    window.scrollTo(0, currentTop + distance * i)
                }, duration)
                // window.scrollTo(0,top - 40);
            }
        }
        
    </script>
</body>

</html>